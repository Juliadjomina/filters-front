<div  [ngClass]="showModal === 'non-modal' ? 'widthtest' : undefined" style="height: 60%; ">
<h2 mat-dialog-title class="title" >Filter</h2>
<mat-dialog-content style="height: 40vh;max-height: 40vh; overflow-y: auto; display: flex; flex-direction: column; align-items: center;">
  <form [formGroup]="filterForm" (ngSubmit)="saveFilter()" >
    <div style="display: flex;">
      <p [ngClass]="showModal === 'non-modal' ? 'test' : undefined" style="margin-right: 10px;" class="centered">Filter name</p>
      <mat-form-field id="filterName" appearance="outline"
                      [floatLabel]="'auto'" style="margin-right: 10px;" class="centered">
        <input formControlName="filterName" matInput placeholder="My Filter 1">
      </mat-form-field>
    </div>
    <div style="display: flex;">
    <p [ngClass]="showModal === 'non-modal' ? 'test' : undefined" style="margin-right: 10px;" >Criteria</p>
    <div  formArrayName="criteriaList" style="height: 100%; width: 100%">
        <div style="margin-left: 30px;" *ngFor="let criteriaList of criteriaListAllData.controls; let i = index" class="test" [formGroupName]="i">
          <app-dropdown [defaultValue]="criteriaList.value.type" [options]="criteriaTypes"
                        (optionSelected)="handleOptionSelected($event, i)"
                        class="criteria-mat-form-filed">
          </app-dropdown>


          <app-dropdown [options]="getComparisonOperators(i)" (optionSelected)="setComparisonOperator($event, i)"
                        class="criteria-mat-form-filed">
          </app-dropdown>

          <mat-form-field  class="criteria-mat-form-filed" appearance="outline" *ngIf="getType(criteriaListAllData.at(i)) === AMOUNT">
            <input formControlName="value" type="number" matInput placeholder="12345">
          </mat-form-field>

          <mat-form-field class="criteria-mat-form-filed" appearance="outline" *ngIf="getType(criteriaListAllData.at(i))  === TITLE">
            <input formControlName="value" type="text" matInput placeholder="Meow">
          </mat-form-field>

          <mat-form-field  class="criteria-mat-form-filed" appearance="outline" *ngIf="getType(criteriaListAllData.at(i))  === DATE">
            <input formControlName="value" placeholder="3/27/2024" matInput [matDatepicker]="picker">
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
          <button (click)="deleteRow(i)" mat-raised-button color="accent">â€”</button>
        </div>
    </div>
    </div>
  </form>
  <div style="display: flex; justify-content: center;">
  <button mat-raised-button color="primary" style="background-color: #757575" type="button" (click)="addCriteria()" >+ Add Criteria</button>
  </div></mat-dialog-content>
<mat-dialog-actions style="background-color: #f1f1f1; display: flex; justify-content: center;">
  <button mat-raised-button color="primary" class="mat-elevation-z0" type="button" (click)="onCloseModal()" style="background-color: #757575">Close</button>
  <button mat-raised-button color="primary" type="submit" (click)="saveFilter()" style="background-color: #156bba">Save Filter</button>
</mat-dialog-actions>
</div>
